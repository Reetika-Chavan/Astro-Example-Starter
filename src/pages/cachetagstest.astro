---
import Layout from "../layouts/Layout.astro";

const currentTime = new Date().toLocaleString();
const randomNumber = Math.floor(Math.random() * 1000);

Astro.response.headers.set(
  "Cache-Control",
  "public, s-maxage=60, stale-while-revalidate=30"
);

Astro.response.headers.set("x-cache-tags", "cachetest");
---

<Layout>
  <section style="padding: 2rem; font-family: sans-serif;">
    <h1>Single CacheTag Test</h1>
    <p>This page uses one cache tag: <code>cachetest</code>.</p>

    <div style="background: #f0f8ff; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
      <h2>Server Data:</h2>
      <ul>
        <li><strong>Current server time:</strong> {currentTime}</li>
        <li><strong>Random number:</strong> {randomNumber}</li>
        <li><strong>Cache Tag:</strong> cachetest</li>
      </ul>
    </div>

    <p><a href="/">‚Üê Back Home</a></p>
  </section>
</Layout>
